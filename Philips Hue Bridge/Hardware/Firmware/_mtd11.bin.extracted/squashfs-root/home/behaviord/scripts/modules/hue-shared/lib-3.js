"use strict";var getMessageFromError=function(error){return"string"==typeof error?error:null==error?void 0:error.description},Barrier=function(){function Barrier(expect,callback){this.expect=expect,this.callback=callback,this.errors=[],0===expect&&callback(this.errors),this.arrive=this.arrive.bind(this)}return Barrier.prototype.arrive=function(errors){void 0===errors&&(errors=[]),errors instanceof Array?this.errors=this.errors.concat(errors.map(getMessageFromError)):errors&&(this.errors=this.errors.concat(getMessageFromError(errors))),this.expect--,0===this.expect&&this.callback(this.errors)},Barrier}();exports.Barrier=Barrier;
